/* Importa le direttive Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Reset e stili base */
@layer base {
  html, body, #root {
    height: 100%;
  }

  body {
    @apply bg-dash-bg text-dash-primary font-sans antialiased;
  }

  body.login-active {
    @apply bg-login-bg text-login-text;
  }

  ::selection {
    @apply bg-login-highlight text-login-text;
  }
}

/* Componenti custom riutilizzabili */
@layer components {
  /* Button primario stile Notion */
  .btn-primary {
    @apply bg-login-highlight text-login-text px-4 py-3 rounded-full 
           hover:bg-opacity-90 transition-all duration-200
           font-semibold text-sm shadow-md;
  }

  /* Button secondario */
  .btn-secondary {
    @apply bg-white text-dash-primary px-4 py-2 rounded-full
           border border-dash-border hover:bg-gray-100
           transition-all duration-200 font-medium text-sm;
  }

  /* Input field */
  .input-field {
    @apply w-full px-4 py-3 rounded-xl border border-transparent
           bg-white/90 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2
           focus:ring-offset-login-card transition-all duration-200 text-dash-primary placeholder:text-dash-muted;
  }

  /* Card container */
  .card {
    @apply bg-dash-card rounded-2xl shadow-dash border border-transparent
           hover:shadow-lg transition-all duration-200;
  }
}

/* Stili per l'editor TipTap (stile Notion) */
.ProseMirror {
  @apply min-h-[500px] outline-none;
}

.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  @apply text-dash-muted pointer-events-none h-0;
}

.ProseMirror h1 {
  @apply text-3xl font-bold mb-4 mt-6 text-dash-primary;
}

.ProseMirror h2 {
  @apply text-2xl font-bold mb-3 mt-5 text-dash-primary;
}

.ProseMirror h3 {
  @apply text-xl font-bold mb-2 mt-4 text-dash-primary;
}

.ProseMirror p {
  @apply mb-3 text-base leading-7 text-dash-primary;
}

.ProseMirror ul {
  @apply list-disc pl-6 mb-3 space-y-1;
}

.ProseMirror ol {
  @apply list-decimal pl-6 mb-3 space-y-1;
}

.ProseMirror li {
  @apply text-base leading-7 text-dash-primary;
}

.ProseMirror a {
  @apply text-task-purple underline hover:text-task-purple/80 cursor-pointer;
}

.ProseMirror strong {
  @apply font-bold;
}

.ProseMirror em {
  @apply italic;
}

.ProseMirror code {
  @apply bg-dash-bg px-1.5 py-0.5 rounded text-sm font-mono text-task-purple;
}

.ProseMirror pre {
  @apply bg-dash-bg rounded-xl p-4 mb-3 overflow-x-auto;
}

.ProseMirror pre code {
  @apply bg-transparent p-0 text-dash-primary;
}

.ProseMirror blockquote {
  @apply border-l-4 border-dash-border pl-4 italic text-dash-muted mb-3;
}

/* Focus ring personalizzato per l'editor */
.ProseMirror:focus {
  @apply outline-none;
}

/* Responsive: min-height ridotta su mobile */
@media (max-width: 640px) {
  .ProseMirror {
    @apply min-h-[300px];
  }
}

/* Scrollbar nascosta ma funzionante per toolbar */
.overflow-x-auto::-webkit-scrollbar {
  height: 4px;
}

.overflow-x-auto::-webkit-scrollbar-track {
  @apply bg-transparent;
}

.overflow-x-auto::-webkit-scrollbar-thumb {
  @apply bg-dash-border rounded-full;
}

.overflow-x-auto::-webkit-scrollbar-thumb:hover {
  @apply bg-dash-muted;
}

